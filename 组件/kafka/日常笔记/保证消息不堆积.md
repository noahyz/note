---
title: undefined
date: 2023-01-19 11:11:41
tags:
- linux
---

#### 4. 消息堆积

消息的堆积往往因为生产者和生产速度与消费者的消费速度不匹配。有可能是因为消息消费失败反复重试导致，也有可能就是消费者消费能力弱，逐渐消息就积压

因此我们需要先定位消费慢的原因，如果是本身消费能力较弱，下游的数据处理不及时，我们可以优化下消费逻辑，提高每批次拉取的数量。

如果消费逻辑已经优化了，消费能力不足，则可以考虑增加 topic 的分区数，并同时提升消费组的消费者数量，消费者数 = 分区数