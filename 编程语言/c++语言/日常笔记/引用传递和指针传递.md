---
title: C++ 中引用和指针的区别
date: 2023-01-19 11:11:41
tags:
- linux
---

## c++ 中引用和指针的区别

- 从概念上，指针是存放变量地址的一个变量，在逻辑上是独立的。他可以被改变，包括其所指向的地址的改变和其指向的地址中所存放的数据的改变。而引用是一个别名，他的存在具有依赖性，所以引用必须在一开始就被初始化，而且其引用的对象在其整个生命周期中是不能被改变的。
- 指针传递参数和引用传递参数是有本质上的不同：
    1. 指针传递参数本质上是值传递，传递的是一个地址值。值传递的特点是被调函数对形参的任何操作都是作为局部变量进行，不会影响主调函数的实参变量的值
    2. 引用传递过程中，被调函数的形参虽然也作为局部变量在栈中开辟了内存空间，但是这时存放的是由主调函数放进来的实参变量的地址。被调函数对形参的任何操作都被处理成间接寻址，即通过栈中存放的地址访问主调函数中的实参变量。因此，被调函数对形参做的任何操作都影响了主调函数中的实参变量
- 从编译角度。程序在编译时分别将指针和引用添加到符号表上，符号表上记录的是变量名及变量所对应地址。指针变量在符号表上对应的地址值为指针变量的地址值，而引用在符号表上对应的地址值为引用对象的地址值。符号表生成后就不会再改，因此指针可以改变其指向的对象（指针变量中的值可以改），而引用对象则不能修改。

相同点：

- 都是地址的概念，指针指向一块内存，他的内容是所指内存的地址；而引用则是某块内存的别名

不同点：

- 指针是一个实体，而引用仅是一个别名
- 引用只能在定义时被初始化一次，之后不可变；指针可变
- 引用没有 const，指针有 const。const 的指针不可变（没有这种形式： `int& const a `  ，引用本身即别名不可以改变，所以不需要这种形式。而 `const int& a`是有的，意为引用所指的值不可以改变）
- 引用不能为空，指针可以为空
- `sizeof 引用` 得到的是所指向的变量（对象）的大小；`sizeof 指针` 得到的是指针本身的大小
- 指针和引用的自增（++）运算意义不一样
- 引用是类型安全的，而指针不是（引用比指针多了类型检查）



 
