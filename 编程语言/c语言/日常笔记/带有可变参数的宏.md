### 带有可变参数的宏

在 1999 年版本的 ISO C 标准中，宏可以象函数一样，定义时可以带可变参数。宏的语法和函数的语法类似

```
#define debug(format, ...) fprintf(stderr, format, __VA_ARGS__)
```

这里的 `...` 指可变参数。这类宏被表示成零个或多个符号，包括里面的逗号，一直到右括弧结束为止。

GCC 可以给可变参数一个名字，如同其他参数一样。

```
#define debug(format, args...) fprintf(stderr, format, args)
```

如上两种方式的定义有问题。就是可变参数要是没有的话，那么在编译期间就会报错。

CPP 使用 `##` 符号，如果可变参数被忽略或为空，`##` 操作将使预处理器去掉它前面的那个逗号。

```
#define debug(format, ...) fprintf(stderr, format, ##__VA_ARGS__)
```

