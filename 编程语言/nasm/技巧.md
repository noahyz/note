---
title: nasm 的一些技巧
---

我们在 64 位机器上，在 x86-64 上编译/链接 32 位应用程序时，设置模拟以 `elf_i386` 提供正确的 ELF 格式

```
nasm -f elf -o xxx.o xxx.s
ld -m elf_i386 -s -o xxx.bin xxx.o
```

下断点，在 bochs 的配置文件加入 “magic_break: enabled=1”，作用是 bochs 启动时开启魔术断点调试功能

```
xchg bx, bx
asm volatile ("xchg %%bx, %%bx" ::);
```

