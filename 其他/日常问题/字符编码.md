---
title: undefined
date: 2023-01-19 11:11:41
tags:
- linux
---

关于字符编码的问题

终端和系统的字符编码一般是一致的

使用mysql的字符编码来做例子：
```shell
MySQL [cmlb_iris]> show variables like 'character%';
+--------------------------+----------------------------------+
| Variable_name            | Value                            |
+--------------------------+----------------------------------+
| character_set_client     | utf8                             |
| character_set_connection | utf8                             |
| character_set_database   | utf8                             |
| character_set_filesystem | binary                           |
| character_set_results    | utf8                             |
| character_set_server     | latin1                           |
| character_set_system     | utf8                             |
| character_sets_dir       | /usr/local/mysql/share/charsets/ |
+--------------------------+----------------------------------+
```
其中 character_set_results 是指mysql返回数据的字符编码。
然后到达linux终端（这里有问题 终端/系统的字符编码之间是什么关系呢？）在进行一次转换

UTF-8、GBK和Latin-1
UTF-8、GBK和Latin-1是MySQL中最常见的三种编码形式。

它们都向下兼容ASCII。同一串使用ASCII编码的字符，转化为UTF-8、GBK和Latin-1以后的结果是一样的。因此，假设客户端传入了SET NAMES latin1这条指令，不论character_set_client设置为UTF-8、GBK还是Latin-1，都可以正常解码并执行。
Latin-1是单字节编码，其编码范围是0x00-0xFF。也就是说任意的8位二进制字节都可以对应于Latin-1中的字符。
UTF-8的表示范围远大于GBK。所有Latin-1字符都能转换为UTF-8字符，但不一定能转换为GBK字符。

因为 UTF-8 的范围远大于 GBK，所以这两种字符编码之间相互转换可能会出现乱码
而 Latin1（ISO-8859-1） 的字符编码方式是单字节编码，中间不做任何操作，因此数据没有变化。

