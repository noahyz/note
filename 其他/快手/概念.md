- 白屏时间是指浏览器从响应用户输入网址地址，到浏览器开始显示内容的时间。 
- 首屏时间是指浏览器从响应用户输入网络地址，到首屏内容渲染完成的时间。
- **回源**是指浏览器在发送请求报文时，响应该请求报文的是**源**站点的服务器，而不是各节点上的缓存服务器（比如nginx开启缓存），那么这个过程相对于通过各节点上的缓存服务器来响应的话就称作为**回源**。 **回源**的请求或流量太多的话，有可能会让**源**站点的服务器承载着过大的访问压力，进而影响服务的正常访问。

```
是否有测试环境，我可以简单部署一下整体系统、或者局部系统？
不同的调度解决方案，对应的代码库是什么？
各个模块的功能，所承载的作用。


```

-  OC：具有相同属性（IDC、运营商）用于服务同一种业务（直播、点播、回源）的设备组
- IDC：互联网数据中心，实际的物理机房，提供[服务器托管](https://baike.baidu.com/item/服务器托管/342361)、网络增值服务等
- vod：视频点播
- live：视频直播

调度答疑：

```

1. 点播/直播 oc 节点，指的是专用于点播/直播的 oc 嘛？如何区分这些 oc 是用于点播/直播的

直播和点播是分开部署的。直播有直播的 oc，点播有点播的 oc。他们之间不会混布。


2. 文档中的名词和代码是如何对应的？比如 主站长视频。支持冷热。从哪里体现的呢？cdnConsole 和调度服务传输的数据协议都是一致的呀，这里是如何区分的？

短视频走的接口：chooseCdnNodes -> buildImage/buildVideoUrl
长视频走的接口：getVideoNodes、getStaticNodes
其他的接口： unionDispatch

minifest 主要的业务，视频。90% 的CDN流量，大客户，主要客户。

直播的调度 SDK：kuaishou-live-cdn  只有自建逻辑， 直播三方逻辑在直播那边。
chooseNodesV2 


3. 阿里低价资源，kconf 配置中会有很多域名。通过 HTTP 请求，得到关于每个域名的 配置信息。走的是那个服务？API 接口是如何定义的？传输的数据格式是怎么样的？（因为代码中是通过字段名的不同进行区分的）
通过 dispatch-data-query 服务，调度服务通过 HTTP 请求（带上阿里低价域名）得到 域名的“上车点带宽”，然后同步到 OCLIST 中。阿里低价域名只有“视频域名”


上车点：阿里的边缘节点。专门用于下载


4. 带宽压制，在代码中如何体现？cdnconsole 传输过来的 oc 监控数据看起来都是相同的。点播这里看起来有图片、视频等？    如何区分点播和直播 的下发比？

oc 中有域名和 IP，有域名优先选择域名，没有域名才会选择 IP


5. 接入方式，如何理解？ip 接入/域名接入。指的是 oc 中新增机器嘛？域名接入有和 oc 之间如何产生联系？新增的机器也应该是 cdnConsole 先感知到吧？



海外的 oc 资源怎么这么少？只有 4 个 oc。正常的嘛？正常


特殊 URL 参数，如何理解
指 阿里低价域名上，会带有一个 lanIP，用来指定要下载的机器。保证资源只存储在一台机器上。


自建调度表，
1. DispatchGroup 调度组，是以 “城市” 粒度来分组的？
	一个城市对于 点播/音频/图片 有不同的下发比例。
	然后下一级是 oc，对于 点播-WIFI、点播-4G、点播-免流、图片-wifi、图片-4G比、图片-免流 等，有不同的下发比例
2. IDCConf，所有 oc 的信息
	oc 下所有单机的下发比

调度 SDK 拿到了 所有的自建调度表信息/三方调度表信息。是否可以按照 projectName，来进行分流


当前后端的部署方式
调度服务之间如何工作？如何处理多台机器同时计算时的数据不一致？ 
调度表的更新，如何保证数据的一致性？
调度服务会部署多个，通过 zookeeper 进行选主。只有一个“主” 来进行计算。其他都作为备。
写到 memcache 中之后，memcache 集群服务是多写的，集群服务保证了一致性。

“上车点” 是什么意思？
    uint64_t enet_used;    /* 上车点域名带宽，上限是 bandwidthcontrolline */

SOC：回源优化。多个冷流切到同一个流上，节省资源

调度 SDK ，直播、点播、海外的代码库在哪里？
调度 SDK 在选择 机器的时候，是随机选取，各节点平摊流量，

abTest 实验 如何理解？是一个怎么样的存在？暂时先不用管

重 SDK 的方式：
我们后面的设计可以以 project 粒度进行分割。将业务逻辑写到后端。SDK 只用于拉取数据、缓存数据、提供数据，尽量少做更新发布。


重构的范围？哪些地方不能动。
```

