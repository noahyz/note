<mxfile host="app.diagrams.net" modified="2023-11-16T09:08:15.027Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36" etag="dpix_vlggfKcHcdAfuSO" version="22.1.2" type="device">
  <diagram name="第 1 页" id="yFmIQ8QZaPkhfDK3l3cb">
    <mxGraphModel dx="2074" dy="2319" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="CA_BhQy04fof7gDNMTqj-84" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="700" y="-250" width="2200" height="270" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-34" target="CA_BhQy04fof7gDNMTqj-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="CA_BhQy04fof7gDNMTqj-26" target="CA_BhQy04fof7gDNMTqj-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-26" value="" style="rounded=0;whiteSpace=wrap;html=1;gradientColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="800" y="-200" width="570" height="160" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-1" target="CA_BhQy04fof7gDNMTqj-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-1" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;unionDispatch&lt;/pre&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="85" y="50" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="CA_BhQy04fof7gDNMTqj-3" target="CA_BhQy04fof7gDNMTqj-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-3" value="记录资源是否被使用" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="85" y="160" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-4" value="固定融合顺序" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="265" width="230" height="70" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-7" target="CA_BhQy04fof7gDNMTqj-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-7" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;initTraceContext&lt;/pre&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="88" y="380" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-8" target="CA_BhQy04fof7gDNMTqj-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-8" value="优先容量调度&lt;br&gt;（暂时不走此逻辑）" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="98" y="475" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-9" target="CA_BhQy04fof7gDNMTqj-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-9" target="CA_BhQy04fof7gDNMTqj-84" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-9" value="路由策略" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="98" y="590" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="CA_BhQy04fof7gDNMTqj-10" target="CA_BhQy04fof7gDNMTqj-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-10" target="CA_BhQy04fof7gDNMTqj-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-10" target="CA_BhQy04fof7gDNMTqj-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-10" value="更新返回节点域名的个数" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="98" y="690" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-11" value="返回结果域名数组" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="98" y="790" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-12" value="根据配置：cdn.unitedDispatch.projectCustomMaxNodeSize&lt;br&gt;设置返回结果节点域名的上限" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="353" y="660" width="410" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-13" value="如果返回节点域名数量少于 2 个，不满足一主一备，则进行打点" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="353" y="730" width="410" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.544;entryY=-0.033;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-4" target="CA_BhQy04fof7gDNMTqj-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-21" value="是否为预览请求" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="810" y="-150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-22" value="根据配置：cdn.unitedDispatch.previewSwitch &lt;br&gt;预览调度开关&lt;br&gt;根据 projectName 来匹配对应配置，配置不到使用 default 配置&lt;br&gt;获取一个大于配置中 mod 字段的整数，称为&amp;nbsp;entityId&lt;br&gt;然后根据白名单、mod值等确定&lt;br&gt;此 projectName 配置是否打开" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="980" y="-180" width="370" height="120" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-23" value="" style="endArrow=none;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-21" target="CA_BhQy04fof7gDNMTqj-22" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="-160" as="sourcePoint" />
            <mxPoint x="1050" y="-210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-24" value="&amp;amp;&amp;amp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="CA_BhQy04fof7gDNMTqj-23" vertex="1" connectable="0">
          <mxGeometry x="-0.14" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-25" target="CA_BhQy04fof7gDNMTqj-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-25" value="根据&amp;nbsp;cdn.unitedDispatch.previewBizMap &lt;br&gt;预览状态下，业务 project 和&amp;nbsp;调度内部的预览配置projectname 之间的映射&lt;br&gt;根据配置，转换 projectctName&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="855" y="60" width="460" height="85" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-29" target="CA_BhQy04fof7gDNMTqj-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-29" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;OUTSOURCING 调度&lt;/pre&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1007.5" y="185" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-32" target="CA_BhQy04fof7gDNMTqj-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1805" y="215" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-32" value="得到 tableMap" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1710" y="185" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="CA_BhQy04fof7gDNMTqj-37" target="CA_BhQy04fof7gDNMTqj-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-37" value="根据 projectName 从 tableMap 中匹配对应的配置" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1308.75" y="185" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-40" target="CA_BhQy04fof7gDNMTqj-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-40" value="根据请求类型（图片、视频、静态、头像）以及 tableMap中 projectName 对应的配置&lt;br&gt;得到类型对应的分发类型" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1308.75" y="275" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-42" target="CA_BhQy04fof7gDNMTqj-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-42" value="根据图片流行标签、长视频超热点等，更新分发类型" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1303.75" y="365" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-44" target="CA_BhQy04fof7gDNMTqj-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-44" value="根据以上获取的信息，得到 hashId" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1301.25" y="445" width="305" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-47" target="CA_BhQy04fof7gDNMTqj-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-47" value="选择 CDN 节点" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1300" y="545" width="307.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="CA_BhQy04fof7gDNMTqj-49" target="CA_BhQy04fof7gDNMTqj-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-49" value="将拿到的节点域名进行过滤&lt;br&gt;去掉黑名单的域名&lt;br&gt;按域名本身支持的属性过滤&lt;br&gt;是否需要按鉴权类型过滤&lt;br&gt;是否支持体验时间过滤" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1290" y="645" width="328.75" height="90" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-50" value="返回最终的域名节点" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1294.38" y="775" width="318.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-53" target="CA_BhQy04fof7gDNMTqj-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-53" value="projectName 是否在 KWAI_SMART_DISPATCH_WHITELIST 白名单中&lt;br&gt;海外智能调度项目白名单" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1970" y="-200" width="400" height="65" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-54" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;OVERSEA_SMART_DISPATCH&lt;/pre&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;海外智能调度&lt;/pre&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2055" y="-90" width="230" height="75" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-59" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1495" y="-510" width="550" height="170" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-34" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="CA_BhQy04fof7gDNMTqj-59" vertex="1">
          <mxGeometry width="550" height="170" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-33" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;cdn.unitedDispatchTable.projectConfigKeyMapper&lt;/pre&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;旧的 mapper 存储地址&lt;/pre&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="CA_BhQy04fof7gDNMTqj-59" vertex="1">
          <mxGeometry x="11.5" y="90" width="509" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-31" value="&lt;div style=&quot;background-color:#1e1f22;color:#bcbec4&quot;&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;cdn.unitedDispatchTableConfig.projectConfigKeyMapper&lt;/pre&gt;&lt;pre style=&quot;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.8pt;&quot;&gt;新的 mapper 存储地址&lt;/pre&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;glass=0;" parent="CA_BhQy04fof7gDNMTqj-59" vertex="1">
          <mxGeometry x="11.5" y="15" width="510" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-61" target="CA_BhQy04fof7gDNMTqj-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-61" target="CA_BhQy04fof7gDNMTqj-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-61" value="兜底方案---多样化定制&lt;br&gt;KWAI、OUTSOURCING 两种调度" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2510" y="-200" width="230" height="62.5" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-62" target="CA_BhQy04fof7gDNMTqj-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-62" value="KWAI 调度" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2481" y="-70" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-63" value="OUTSOURCING 调度" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2660" y="-70" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-66" target="CA_BhQy04fof7gDNMTqj-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-66" target="CA_BhQy04fof7gDNMTqj-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-66" value="判断 projectName 是否被禁用" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2451" y="92.5" width="180" height="62.5" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-67" value="如果被禁用，直接返回空列表" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2681" y="94" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-72" target="CA_BhQy04fof7gDNMTqj-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-72" target="CA_BhQy04fof7gDNMTqj-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-72" value="选择国内自建 CDN" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2451" y="212.5" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-74" target="bby_Vuk_X13-lnL_1ME7-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-74" value="批量选取自建 CDN 节点列表" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2681" y="210" width="180" height="65" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CA_BhQy04fof7gDNMTqj-82" target="bby_Vuk_X13-lnL_1ME7-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CA_BhQy04fof7gDNMTqj-82" value="选择海外自建 CDN 节点&lt;br&gt;海外 CDN 不支持免流" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2446.5" y="305" width="189" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bby_Vuk_X13-lnL_1ME7-2" target="bby_Vuk_X13-lnL_1ME7-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-2" value="仅大陆地区可以走自建CDN，外国地区则返回空" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2900" y="212" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-4" target="bby_Vuk_X13-lnL_1ME7-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-4" value="如果是超级热点请求，则不走自建" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3228" y="212" width="202" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-6" target="bby_Vuk_X13-lnL_1ME7-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-6" value="通过用户ID，判断是否在自建CDN白名单&lt;br&gt;若用户在自建CDN覆盖区域，则总是走自建" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3480" y="212" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-8" target="bby_Vuk_X13-lnL_1ME7-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-8" value="通过调度表查询节点" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3800" y="212" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bby_Vuk_X13-lnL_1ME7-10" target="bby_Vuk_X13-lnL_1ME7-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-10" value="自建调度表&lt;br&gt;分为 V1 版本和 V2 版本两张表" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3942.5" y="-2.5" width="215" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bby_Vuk_X13-lnL_1ME7-11" target="bby_Vuk_X13-lnL_1ME7-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-11" value="通过 RPC 定期更新自建调度表" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3955" y="-137.5" width="190" height="65" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-13" target="bby_Vuk_X13-lnL_1ME7-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-13" value="选取调度分组" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3990" y="212.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-16" target="bby_Vuk_X13-lnL_1ME7-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-16" value="根据优先级、文件索引&lt;br&gt;从调度分组中选取合适的自建节点" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4140" y="210" width="210" height="65" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-20" target="bby_Vuk_X13-lnL_1ME7-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-20" value="返回自建节点列表" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4400" y="212.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bby_Vuk_X13-lnL_1ME7-22" target="bby_Vuk_X13-lnL_1ME7-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-22" value="根据条件过滤&lt;br&gt;最终返回自建节点列表" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4560" y="212" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-27" value="如果过滤完，列表为空&lt;br&gt;则走海外自建节点" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4740" y="212" width="160" height="58" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-29" target="bby_Vuk_X13-lnL_1ME7-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-29" value="检测调度单元是否有可用的配额" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2481" y="400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-30" target="bby_Vuk_X13-lnL_1ME7-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-30" value="选择可用的 Idc" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2481" y="500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-31" value="遍历 Idc，匹配合适的机器" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2456" y="595" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-35" target="bby_Vuk_X13-lnL_1ME7-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-35" value="kuaishou-video-cdn" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="118" y="1030" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-36" value="建立自建调度表" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="330" y="1030" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-38" value="RPC 接口：updateSelfDispatchTable&lt;br&gt;更新自建调度表" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="540" y="860" width="280" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-39" target="bby_Vuk_X13-lnL_1ME7-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bby_Vuk_X13-lnL_1ME7-39" target="bby_Vuk_X13-lnL_1ME7-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-39" value="Memcache" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="625" y="1020" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-38" target="bby_Vuk_X13-lnL_1ME7-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-42" value="RPC接口：getSelfDispatchTable&lt;br&gt;获取自建调度表" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="560" y="1190" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-132" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-44" target="bby_Vuk_X13-lnL_1ME7-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-44" target="bby_Vuk_X13-lnL_1ME7-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-137" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-44" target="bby_Vuk_X13-lnL_1ME7-109" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-44" value="CDN-OC-DISPATCH&lt;br&gt;计算下发比的服务" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="88" y="1520" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bby_Vuk_X13-lnL_1ME7-45" target="bby_Vuk_X13-lnL_1ME7-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-45" value="使用 MCP 框架&lt;br&gt;src/oc-server.cpp" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="103" y="1450" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-47" target="bby_Vuk_X13-lnL_1ME7-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-47" value="单独线程&lt;br&gt;一秒更新一次调度表&lt;br&gt;如果配置更新，则等待三秒再更新" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="735" y="1960" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-49" target="bby_Vuk_X13-lnL_1ME7-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-49" value="设置DNS解析" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="970" y="1960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-50" target="bby_Vuk_X13-lnL_1ME7-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-50" value="计算下发比" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1120" y="1960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-51" target="bby_Vuk_X13-lnL_1ME7-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-51" value="转换数据格式成PB" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1270" y="1960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-52" target="bby_Vuk_X13-lnL_1ME7-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-52" value="生成调度表并发布" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1420" y="1960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-57" target="bby_Vuk_X13-lnL_1ME7-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-57" value="SoWork 初始化" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="294" y="1300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-58" value="加载项目启动配置并初始化" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="1300" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bby_Vuk_X13-lnL_1ME7-59" target="bby_Vuk_X13-lnL_1ME7-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-59" target="bby_Vuk_X13-lnL_1ME7-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-59" value="加载OC覆盖区域对照表配置文件" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="466" y="1380" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-65" target="bby_Vuk_X13-lnL_1ME7-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-65" target="bby_Vuk_X13-lnL_1ME7-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-65" value="单独线程&lt;br&gt;间隔 10 秒&lt;br&gt;扩展配置加载" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="481" y="1780" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-66" value="Kafka 初始化" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="481" y="2060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-71" target="bby_Vuk_X13-lnL_1ME7-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-71" value="定时任务" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="294" y="2225" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-72" target="bby_Vuk_X13-lnL_1ME7-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-131" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-72" target="bby_Vuk_X13-lnL_1ME7-130" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-72" value="如果时间间隔大于一秒&lt;br&gt;更新 OC 状态" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="486" y="2230" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-73" target="bby_Vuk_X13-lnL_1ME7-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-73" value="日志文件滚动" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="501" y="2320" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-74" target="bby_Vuk_X13-lnL_1ME7-128" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-74" value="kafka 上报监控数据" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="501" y="2390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-78" value="更新 OC 列表：OCLIST&lt;br&gt;对于新的 OC，进行增加" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="890" y="1380" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-80" target="bby_Vuk_X13-lnL_1ME7-78" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-80" value="解析文件，转换成 OC 数据格式" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="1380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-82" target="bby_Vuk_X13-lnL_1ME7-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-82" value="初始化 zookeeper、memcache" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="446" y="1480" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-83" target="bby_Vuk_X13-lnL_1ME7-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-91" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bby_Vuk_X13-lnL_1ME7-83" target="bby_Vuk_X13-lnL_1ME7-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-83" value="单独线程，每三秒执行一次&lt;br&gt;读取 kconf 上&amp;nbsp;cdn.dispatch.ocDispatchVodSrv&lt;br&gt;加载所有 OC 的数据" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="396" y="1580" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.569;entryY=0.973;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-83" target="bby_Vuk_X13-lnL_1ME7-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-86" value="如果是第一次加载&lt;br&gt;则融合入 memcache 中 SELF_CDN_DISPATCH 调度表相关信息&lt;br&gt;主要是修改 needratio 下发比字段" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="1580" width="377.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-90" target="bby_Vuk_X13-lnL_1ME7-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bby_Vuk_X13-lnL_1ME7-90" target="bby_Vuk_X13-lnL_1ME7-99" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-90" value="单独线程&lt;br&gt;间隔 300 秒执行一次&lt;br&gt;维护 memcache 的连接" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="466" y="1680" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-92" target="bby_Vuk_X13-lnL_1ME7-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-92" target="bby_Vuk_X13-lnL_1ME7-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-92" value="开始调度表更新线程" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="481" y="1960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-93" target="bby_Vuk_X13-lnL_1ME7-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-93" value="从 memcache 中读取调度表数据，进行融合，&lt;br&gt;更新 oc 的下发比字段" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="410" y="1870" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-99" target="bby_Vuk_X13-lnL_1ME7-101" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-99" value="从 zookeeper 中获取 hostname、port（memcache 的连接）" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="680" y="1680" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-100" target="bby_Vuk_X13-lnL_1ME7-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-100" value="加载 kconf：cdn.dispatch.oc-dispatch-extend 的配置" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="680" y="1780" width="264" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-101" value="更新 memcache 的连接" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="955" y="1680" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-104" value="解析并保存额外配置" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="997.5" y="1780" width="122.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-107" value="通过 RPC 接口发给调度表服务" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1580" y="1960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-109" target="bby_Vuk_X13-lnL_1ME7-110" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="463.5" y="2680" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-109" target="bby_Vuk_X13-lnL_1ME7-111" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="463.5" y="2680" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-109" value="OnMessage&lt;br&gt;网络包处理" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="294" y="2650" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="bby_Vuk_X13-lnL_1ME7-110" target="bby_Vuk_X13-lnL_1ME7-115" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-138" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-110" target="bby_Vuk_X13-lnL_1ME7-114" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-110" value="CMD_IN_REQ" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="480.5" y="2590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-124" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-111" target="bby_Vuk_X13-lnL_1ME7-123" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-111" value="CMD_OUT_RSP" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="480.5" y="3250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="bby_Vuk_X13-lnL_1ME7-116" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="805.5" y="2580" as="sourcePoint" />
            <mxPoint x="859.5" y="2580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-114" value="如果是 GET 请求" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="685.5" y="2550" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-22" target="BJxfuuJ7XGEPDD0LGVmp-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-22" target="BJxfuuJ7XGEPDD0LGVmp-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-22" target="BJxfuuJ7XGEPDD0LGVmp-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-115" target="BJxfuuJ7XGEPDD0LGVmp-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-115" value="POST 请求" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="685.5" y="2630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-116" value="直接返回 OK" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="890" y="2550" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-117" value="解析 OC 上报信息&lt;br&gt;更新 oc 数据（OCLIST）&lt;br&gt;对于新的 oc，进行增加" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1638.75" y="2980" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="bby_Vuk_X13-lnL_1ME7-123" target="BJxfuuJ7XGEPDD0LGVmp-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="890" y="3280" />
              <mxPoint x="890" y="2960" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-123" value="对于 HTTP resp 数据&lt;br&gt;进行处理" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="669.5" y="3250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-128" value="监控模块展示数据" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="680" y="2390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bby_Vuk_X13-lnL_1ME7-130" value="根据域名上报数据&lt;br&gt;遍历阿里低价带宽列表&lt;br&gt;将每个 domain 进行传递，获取新的带宽数据" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="703.5" y="2217.5" width="253" height="75" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-1" target="BJxfuuJ7XGEPDD0LGVmp-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-1" target="BJxfuuJ7XGEPDD0LGVmp-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-1" target="BJxfuuJ7XGEPDD0LGVmp-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-1" value="如果有 action 字段" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1177.5" y="2800" width="135" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-3" target="BJxfuuJ7XGEPDD0LGVmp-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-3" value="action：OC_SERVER_QUERY" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1372.5" y="2740" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-4" target="BJxfuuJ7XGEPDD0LGVmp-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-4" value="action：OC_SERVER_QUERY_CONF" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1372.5" y="2820" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-5" target="bby_Vuk_X13-lnL_1ME7-117" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-5" value="action：OC_SERVER_UPDATE" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1372.5" y="2900" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-6" target="bby_Vuk_X13-lnL_1ME7-117" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-6" value="如果有 ocid 字段" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1182.5" y="3020" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="BJxfuuJ7XGEPDD0LGVmp-7" target="BJxfuuJ7XGEPDD0LGVmp-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-7" value="如果都没有 action、ocid 字段" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1182.5" y="3180" width="165" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-9" value="获取 oc 列表信息" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1658.75" y="2740" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-10" value="获取服务配置信息" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1662.5" y="2820" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-20" value="更新 oc 的 ENET 的下发比" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1522.5" y="3180" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-22" value="OnCmdRecv" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="980" y="2930" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BJxfuuJ7XGEPDD0LGVmp-25" value="oc-lived.cpp&lt;br&gt;直播这里的逻辑基本一致" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="68" y="1400" width="160" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
