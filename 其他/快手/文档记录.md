---
title: 文档记录
---

新人指南：

https://docs.corp.kuaishou.com/k/home/VBkvuJ62qQs0/fcAAIRSiPVFpToWZzu_ukWveJ



CDN 相关

开源的 CDN 书：https://github.com/xialixin/srs_code_note/blob/master/doc/live_vod_cdn.md

CDN 调用链路图及调用流程：https://docs.corp.kuaishou.com/k/home/VMKSrVO33Se8/fcADh2OxZ9GHJ2Vf2cPDDL2US

NEW MCP 框架：https://docs.corp.kuaishou.com/k/home/VMV1hdXiuuoY/fcACtpiEzw4KEAc6eIz6hCe1G





代码相关

流量调度仓库：https://git.corp.kuaishou.com/cdn-team/traffic-director

kuaishou-cdn-redirect-dispatcher：https://git.corp.kuaishou.com/cdn-team/traffic-director/kuaishou-cdn-redirect-dispatcher

国内302调度 httpapk：https://git.corp.kuaishou.com/cdn-team/traffic-director/httpapk

统一自建 CDN 调度仓库 kuaishou-cdn-self-dispatch：https://git.corp.kuaishou.com/cdn-team/traffic-director/kuaishou-cdn-self-dispatch

MCP框架：https://git.corp.kuaishou.com/cdn-team/traffic-director/mcp





java 后端开发指南：https://halo.corp.kuaishou.com/help/docs/206ce86a70d9da9ecbdfd53c32aab55f

后端开发入职 101：https://docs.corp.kuaishou.com/k/home/VTWZoXwDT1As/fcAAMcOg4Sv9iOERBO6vZpVXb

IDEA 配置：https://docs.corp.kuaishou.com/k/home/VDKnP0LwugwY/fcAD3DoEoW6SiuDC5N_6k156B#section=vodka.z9yozzec6ptm

KsBoot 指南：https://halo.corp.kuaishou.com/help/docs/7ea515e775da9754d7d7b0e7f4135e99





项目相关

```
cdn-oc-dispatch
自建CDN，计算下发比的服务
https://kdev.corp.kuaishou.com/git/cdn-team/traffic-director/cdn-oc-dispatch/-/overview?repoId=13599

kuaishou-video-cdn
自建 CDN，调度表的服务。从 “计算下发比的服务” 这里同步配置信息。提供给服务给调度sdk，同步配置信息
https://kdev.corp.kuaishou.com/git/cdn-team/traffic-director/cdn-traffic-routing-cn/kuaishou-video-cdn/-/overview?repoId=32414


```





RPC 实现原理：https://docs.corp.kuaishou.com/d/home/fcACYVa7X7Z0ITQxB9Dcb6sV7?source=kim_broadcast

DNS 技术分享：https://docs.corp.kuaishou.com/k/home/VUaM9hrDcpxQ/fcABekBSFsaHgagn4ssc8ist0

NEW mcp 框架：https://docs.corp.kuaishou.com/k/home/VMV1hdXiuuoY/fcACtpiEzw4KEAc6eIz6hCe1G



```
kuaishou-video-cdn
调度表服务
服务说明：https://docs.corp.kuaishou.com/d/home/fcADktcc3bKln4cSG2ykzUFh3
主站CDN本身仅包含一个维护调度表更新与拉取的rpc服务

```



 **CDN调度服务架构梳理**：https://docs.corp.kuaishou.com/k/home/VR5kgTZs_0ew/fcACFh2usdKFX9eTcYfEaEl3B

KESS 分享（服务发现和治理平台）：https://docs.corp.kuaishou.com/k/home/VNqPwM0XwFxU/fcAASIGucOVlQNW76qok-axN0



```
办公网镜像仓库使用手册：https://docs.corp.kuaishou.com/k/home/VAIz1GkejFNI/fcAC45e0Wdej14Jd6Hh0BoTrC
容器云问题排查手册：https://docs.corp.kuaishou.com/k/home/VcCVv1raCyjU/fcAAP93ricP7u_LqRz4oDF3EU
容器云基础操作：https://docs.corp.kuaishou.com/k/home/VWiAz_Duxv2Q/fcADeVYHeonHdHi9437nqQnDx

DNS标准化调度 console 侧相关接口：https://docs.corp.kuaishou.com/d/home/fcAA_1JSnXrrgGRrxoAcDspwp

微服务治理平台（KRPC调试）：https://kess.corp.kuaishou.com/#/service/home?path=%2Fkuaishou%2Fpublic%2Fcdn%2Fcdn-dispatch2%2Fvideo_test&nodeId=3052&fullName=public.cdn.cdn-dispatch2.video_test

调度工程组内部 oncall 排查手册：https://docs.corp.kuaishou.com/d/home/fcACWpI30F95EjYeW9GfAXDti#section=h.dtisoz4fcse

李昶工作交接文档：
https://docs.corp.kuaishou.com/d/home/fcABSobtrPU3IPY1uLKcfzdZ7

侯禺凡工作整理：
https://docs.corp.kuaishou.com/d/home/fcABTQFX96Zrlj839GHKJEvwj

远程日志：
https://halo.corp.kuaishou.com/help/docs/611c0740b244048f738a1a4956da6602
https://halo.corp.kuaishou.com/help/docs/21c906f67315717ed46f9d7624b3198f
```



用户切换到 web_server

```
sudo -iu web_server
```

调度前端项目开发手册：https://docs.corp.kuaishou.com/k/home/VYnGWMQ1R4YY/fcABcwI9DgP23tgioXC3KMvac

如何开发前端页面：https://docs.corp.kuaishou.com/k/home/VAp4ClYk1NfI/fcADm8JZaETIp36zIREWAdm3V?ro=false



云主机使用：https://halo.corp.kuaishou.com/help/docs/b16dd2f697e6a1a4439667608ab5a15b

```
折腾了很久的 vscode 搜索特别慢，后来发现是网络问题。设置代理最后解决的。
现象：下载插件特别慢、搜索代码特别慢。不是 vscode 的问题，而是云主机的网络问题。

export http_proxy=http://10.164.57.167:11080
export https_proxy=http://10.164.57.167:11080
export HTTP_PROXY=http://10.164.57.167:11080
export HTTPS_PROXY=http://10.164.57.167:11080 
export no_proxy="localhost,127.0.0.1,localaddress,localdomain.com,internal,corp.kuaishou.com,test.gifshow.com,staging.kuaishou.com'"
export NO_PROXY="localhost,127.0.0.1,localaddress,localdomain.com,internal,corp.kuaishou.com,test.gifshow.com,staging.kuaishou.com'"


echo "alias fq='http_proxy=http://10.164.57.167:11080 https_proxy=http://10.164.57.167:11080 HTTP_PROXY=http://10.164.57.167:11080 HTTPS_PROXY=http://10.164.57.167:11080'" >> ~/.bashrc

echo "alias fq2='http_proxy=http://10.156.73.36:11080 https_proxy=http://10.156.73.36:11080 HTTPS_PROXY=http://10.156.73.36:11080 HTTPS_PROXY=http://10.156.73.36:11080'" >> ~/.bashrc
```



staging 环境的调度前端工具页面：https://cdn-dispatch-devops.staging.kuaishou.com/utils/dispatchConfig/kcdnKconfEditor



kdd

```
正式环境：
staging 环境： https://kdd.staging.kuaishou.com
kconf 地址：https://kconf.corp.kuaishou.com/#/cdn/dispatch/ipDispatchSrv

未知环境：https://kdd.test.gifshow.com/wb_dispatch/main/conf/
未知 kconf：https://kconf.corp.kuaishou.com/?#/cdn/dispatch/thirdpartyTest
```



快手 docker 文档：https://docs.corp.kuaishou.com/k/home/Vd11_AOjtk90/fcAC4WPxgvGPmBK1slkZMoJ_r

快手健康检查排查方法：https://docs.corp.kuaishou.com/k/home/VcCVv1raCyjU/fcAAP93ricP7u_LqRz4oDF3EU



从容器云容器中下载文件到本地

```
1. 首先通过 kcsctl 登录容器
kcsctl -s kce-public-bjzey-zw exec cloud-1239854-301267-222008-57-deploy-6d4c79ff74-kq4h8 -n default -c 1239854-301267-0

2. 下载客户端工具 csc 并解压
wget -O csc_linux_amd64.tar.gz https://halo.corp.kuaishou.com/api/cloud-storage/v1/public-objects/devcloud-product/cloud-storage%2Fcsc_linux_amd64_1.0.tar.gz && tar -xzvf csc_linux_amd64.tar.gz

mac 版本
wget -O csc_mac_amd64.tar.gz https://halo.corp.kuaishou.com/api/cloud-storage/v1/public-objects/devcloud-product/cloud-storage%2Fcsc_mac_amd64_1.0.tar.gz && tar -xzvf csc_mac_amd64.tar.gz

3. 在云存储系统创建存储桶
https://halo.corp.kuaishou.com/cloudstorage/#/file-list?bucket=pcap
选择 “公有读写”

客户端公有读写桶上传
./csc upload $filepath $bucket_name/$dir_name/$filename
如：
./csc upload /home/web_server/kuaishou-runner/log/main.log rebate_log_bucket/log/main.log
```









