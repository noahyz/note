---
title: 调度相关
---

```
kconf 的配置地址：https://kconf.corp.kuaishou.com/#/cdn/dispatch/dispatchConfigItemConf


在 Mac 上无法获取到配置
curl -v --location --request GET 'http://kcdn.dispatch.om.internal.yximgs.com:9809/api/machine/getinfo' \
--header 'token: dea524caf24c468241e74d7e10702866' \
--header 'caller: dispatch'
失败：Recv failure: Connection reset by peer


数据库如何访问
mybatis-generator.xml
<jdbcConnection driverClass="com.mysql.jdbc.Driver"
    connectionURL="jdbc:mysql://bjfk-d13.yz02:15136/dispatch-manage?useUnicode=true&amp;characterEncoding=UTF8"
    userId="test_rw"
    password="54rltyi5BCdcm06wu22A0brvvzU5uDgB">
</jdbcConnection>
```

调度相关配置

```
国内点播，新旧调度为了 oc 迁移的配置
https://kconf.corp.kuaishou.com/#/cdn/selfDispatch/dispatchOcMoveDomesticVodConf

海外点播，新旧调度 oc 迁移的配置：cdn.selfDispatch.dispatchOcMoveOverseasVodConf

直播切换开关：cdn.selfDispatch.useNewSelfDispatchConfLiveSwitch
新版 console 直播 kconf：https://kconf.corp.kuaishou.com/#/cdn/cdn-console-v2/ocDispatchLiveSrv
旧版 console 直播 kconf：cdn.dispatch.ocDispatchLiveSrv

点播切换开关：cdn.selfDispatch.useNewSelfDispatchConfVodSwitch
新版 console 点播 kconf：cdn.cdn-console-v2.ocDispatchVodSrv
旧版 console 点播 kconf：cdn.dispatch.ocDispatchVodSrv

老版带宽查询（正式环境）：curl 'http://m.kcdn-ngx-kgw.internal:80/ocstate/v2/getocinfo?ocid=4347' 

国内点播，调度与sdk交互的 kconf：cdn.selfDispatch.dispatchUnitRatio
海外点播，调度与sdk交互的 kconf：cdn.selfDispatch.dispatchUnitRatioOverseas

国内点播，用于放量的 kconf：cdn.dispatch.selfCdnFullProjects
海外点播，用于放量的 kconf：cdn.dispatch.OverseasSelfCdnFullProjects

调度服务：
国内点播调度服务（public-oc-dispatch-vod）
https://halo.corp.kuaishou.com/devcloud/cloud/service/781418/history/batch-list-v1

国内直播调度（public-oc-dispatch-live）
https://halo.corp.kuaishou.com/devcloud/cloud/service/799886/history/batch-list-v2

海外点播调度（public-cdn-dispatch-overseas-vod）
https://halo.corp.kuaishou.com/devcloud/cloud/service/1151683/environment

海外直播调度（public-cdn-dispatch-overseas-live）
https://halo.corp.kuaishou.com/devcloud/cloud/service/1130398/environment

调度表服务：
国内点播调度表（webservice-cdn-video-dispatch-service）
https://halo.corp.kuaishou.com/devcloud/cloud/service/522179/history/batch-list-v1

国内直播调度表（public-cdn-dispatch-runner）
https://halo.corp.kuaishou.com/devcloud/cloud/service/614597/environment

海外点播调度表（public-kwai-cdn-overseas-service）
https://halo.corp.kuaishou.com/devcloud/cloud/service/1151970/environment

海外直播调度表（public-kwai-live-cdn-runner）
https://halo.corp.kuaishou.com/devcloud/cloud/service/1062728/history/batch-list-v1

sdk 封装（public-kuaishou-cdn-dispatch-core-api）：
https://halo.corp.kuaishou.com/devcloud/cloud/service/1942277/history/batch-list-v1

代码库：
cdn-oc-dispatch：国内点播和直播
oc-dispatch-overseas：海外点播和直播
kuaishou-video-cdn：国内点播
kuaishou-cdn-dispatch-runner：国内直播
kwai-cdn-overseas-service：海外点播
kwai-live-cdn：海外直播

告警模块使用的基础配置 kconf：cdn.cdnAlert.basicConfig
告警模式使用的数据库：cdn.cdnAlert.kdbConfig

新版调度国内资源池：cdn.selfDispatch.projectNameResourcePoolDomestic
新版调度海外资源池：cdn.selfDispatch.projectNameResourcePoolOverseas

调度直播SDK：
```



调度 SDK

```
短视频CDN防盗链域名映射：webserver.cdnVideo.photoSafetyUrlHostMapping
```













